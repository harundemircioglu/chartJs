<div class="main">
  <div class="container">
    <p-toast></p-toast>

    <!-- PRODUCT SECTION -->
    <div class="row">
      <div class="mt-3 mb-3">
        <p-button (onClick)="goHome()" icon="pi pi-times" styleClass="p-button-rounded p-button-danger"></p-button>
      </div>
      <!-- CREATE PRODUCT SECTION -->
      <div class="col-md-6 mt-5">
        <div class="product-section">
          <h1>PRODUCT SECTION</h1>
          <h5>CREATE PRODUCT</h5>
          <div class="create-product">
            <input [(ngModel)]="productRequest.product_name" class="text mt-1 mb-1" type="text"
              placeholder="Product name">
            <input [(ngModel)]="productRequest.product_image" class="text mt-1 mb-1" type="text"
              placeholder="Product image">
            <input [(ngModel)]="productRequest.product_price" class="text mt-1 mb-1" type="text"
              placeholder="Product price">
            <select [(ngModel)]="productRequest.category_id" class="text mt-1 mb-1">
              <option *ngFor="let category of categories" [value]="category.id">{{category.category_name}}</option>
            </select>
            <button class="button mt-1 mb-1" (click)="onCreateProduct()">Create</button>
          </div>
        </div>
      </div>
      <!-- EDIT PRODUCT SECTION -->
      <div class="col-md-6 mt-5">
        <div class="product-section">
          <h1>EDIT PRODUCT SECTION</h1>
          <h5>EDIT PRODUCT</h5>
          <div class="create-product">
            <div class="search-product">
              <input class="text mt-1 mb-1" type="text" [(ngModel)]="selectedProduct" placeholder="Product ID">
              <button (click)="getProductById()">Search</button>
            </div>
            <input *ngIf="product" [(ngModel)]="product.product_name" class="text mt-1 mb-1" type="text"
              placeholder="Product name">
            <input *ngIf="product" [(ngModel)]="product.product_image" class="text mt-1 mb-1" type="text"
              placeholder="Product image">
            <input *ngIf="product" [(ngModel)]="product.product_price" class="text mt-1 mb-1" type="text"
              placeholder="Product price">
            <button *ngIf="product" class="button mt-1 mb-1" (click)="updateProduct()">Save</button>
            <button *ngIf="product" class="button mt-1 mb-1" (click)="deleteProduct()">Delete</button>
          </div>
        </div>
      </div>
    </div>

    <hr class="mt-5">

    <!-- CATEGORY SECTION -->
    <div class="row">
      <!-- CREATE CATEGORY SECTION -->
      <div class="col-md-6 mt-5 mb-5">
        <div class="category-section">
          <h1>CATEGORY SECTION</h1>
          <h5>CREATE CATEGORY</h5>
          <input class="text mt-1 mb-1" [(ngModel)]="categoryRequest.category_name" type="text"
            placeholder="Category name">
          <button class="button mt-1 mb-1" (click)="onCreateCategory()">Create</button>
        </div>
      </div>
      <!-- EDIT CAREGORY SECTION -->
      <div class="col-md-6 mt-5 mb-5">
        <div class="category-section">
          <h1>EDIT CATEGORY SECTION</h1>
          <h5>EDIT CATEGORY</h5>
          <div class="search-category">
            <input class="text mt-1 mb-1" [(ngModel)]="selectedCategory" type="text" placeholder="Category ID">
            <button (click)="getCategoryById()">Search</button>
          </div>
          <input *ngIf="category" class="text mt-1 mb-1" [(ngModel)]="category.category_name" type="text"
            placeholder="Category name">
          <button *ngIf="category" class="button mt-1 mb-1" (click)="updateCategory()">Save</button>
          <button *ngIf="category" class="button mt-1 mb-1" (click)="deleteCategory()">Delete</button>
        </div>
      </div>
    </div>

    <hr class="mt-5 mb-5">

    <!-- SELECT CHART TYPE -->

    <p-dropdown [options]="charts" [(ngModel)]="selectedCharts" optionLabel="placeholder"
      (onChange)=" changeChartType()"></p-dropdown>

    <div class="chart">
      <div class="mt-5 mb-5">
        <canvas baseChart [datasets]="barChartData" [labels]="barChartLabels" [options]="barChartOptions"
          [legend]="barChartLegend" [type]="chartType">
        </canvas>
      </div>
    </div>

  </div>
</div>
